# 简略笔记

* `app.json`中的`navigationBarBackgroundColor`只能用16进制的，不能写文字。 
* `wxml`中只能用class类，而不能用id。
* 注意：在组件wxss中不应使用ID选择器、属性选择器和标签名选择器。
* 只要项目加载了，项目文件你就删不掉了，我们可以采取一个迂回战术，我们在硬盘打开文件，在硬盘中删除它即可。
* 在文件夹下右键——新建page，写入文字，可以一下子就创建**4件套**。
* text是文本标签，等同于H5里面的span，是一个内联元素。
* 小程序中的`image`标签，等同于HTML中的img标签。
* 虽然你写的是rpx，但是在模拟器上显示的还是px单位。 
* 小程序中页面使用的初始化数据都会去找`data`(在app.js里面)去要。
* 事件回调函数和data和生命周期函数**平级**。
* 小程序的环境里的全局对象是`wx`，它是没有全局对象`window`的！！！
* 小程序生命周期
  * 它同时会开2个线程，一个线程服务于**视图层**(展现给客户看)，一个线程服务于逻辑层/服务层(提供数据)。
  * `onLoad`和`onReady`这2个钩子函数只会执行一次，而`onShow`则会执行多次。 

## 小程序有关

### 1.  数据绑定

1. 小程序
   1. data中初始化数据
   2. 修改数据： this.setData()
      1. 修改数据的行为始终是同步的
   3. 数据流： 
      1. 单项： Model ---> View
2. Vue
   1. data中初始化数据
   2. 修改数据: this.key = value
   3. 数据流： 
      1. Vue是单项数据流： Model ---> View
      2. Vue中实现了双向数据绑定： v-model
3. React
   1. state中初始化状态数据
   2. 修改数据: this.setState()
      1. 自身钩子函数中(componentDidMount)异步的
      2. 非自身的钩子函数中(定时器的回调)同步的
   3. 数据流： 
      1. 单项： Model ---> View

### 2. 获取用户基本信息

1. 用户未授权(首次登陆)
   1. button open-type=‘getUserInfo’
2. 用户已经授权(再次登陆)
   1. wx.getUserInfo

### 3. 前后端交互

1. 语法: wx.request()
2. 注意点: 
   1. 协议必须是https协议
   2. 一个接口最多配置20个域名
   3. 并发限制上限是10个
   4. **开发过程中设置不校验合法域名**： 开发工具 ---> 右上角详情 ----> 本地设置 ---> 不校验

### 4. 本地存储

1. 语法: wx.setStorage() || wx.setStorageSync() || .....
2. 注意点： 
   1. 建议存储的数据为json数据
   2. 单个 key 允许存储的最大数据长度为 1MB，所有数据存储上限为 10MB
   3. 属于永久存储，同H5的localStorage一样

## 扩展内容

### 1. 事件流的三个阶段

1. 捕获: 从外向内——注意：捕获的时候是**不会触发**这个事件的
2. 执行目标阶段——给这个目标执行事件
3. 冒泡: 从内向外——不会这么自私，目标执行完以后还会给外面继续执行事件。

### 2. 事件委托

1. 什么是事件委托
   1. 将子元素的事件委托(绑定)给父元素
2. 事件委托的好处
   1. 减少绑定的次数
   2. 后期新添加的元素也可以享用之前委托的事件
3. 事件委托的原理
   1. 冒泡
4. 触发事件的是谁
   1. 子元素
5. 如何找到触发事件的对象
   1. event.target
6. currentTarget VS target
   1. currentTarget要求绑定事件的元素一定是触发事件的元素
   2. target绑定事件的元素不一定是触发事件的元素

### 3. 定义事件相关

1. 分类
   1. 标准DOM事件
   2. 自定义事件
2. 标准DOM事件
   1. 举例： click，input。。。
   2. 事件名固定的，事件由浏览器触发
3. 自定义事件
   1. 绑定事件
      1. 事件名
      2. 事件的回调
      3. 订阅方: PubSub.subscribe(事件名，事件的回调)
      4. 订阅方式接受数据的一方
   2. 触发事件
      1. 事件名
      2. 提供事件参数对象， 等同于原生事件的event对象
      3. 发布方: PubSub.publish(事件名，提供的数据)
      4. 发布方是提供数据的一方































